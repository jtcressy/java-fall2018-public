package com.github.jtcressy.kattis;

import org.junit.Test;

import java.util.List;

import static org.junit.Assert.*;

public class CountingStarsTest {

    @Test
    public void consumeInput() throws Exception {
        {
            String data = "100 100\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################---#############################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "#################################################--#################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "###################################################----#############################################\n" +
                    "#####################--#############################-###############################################\n" +
                    "######################--############################-###############################################\n" +
                    "###################----#############################-###############################################\n" +
                    "###################--###############################-###############################################\n" +
                    "####################################################-###############################################\n" +
                    "####################################################-###############################################\n" +
                    "####################################################-###############################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "#########################---########################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "################----################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################-------#########################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "######################---###########################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "###########################################----#####################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "#################################--------------#####################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################---#############################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "#######################################################################---##########################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "##############################################------################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n" +
                    "####################################################################################################\n";
            List<CountingStars> cases = CountingStars.consumeInput(data);
            assertEquals(1, cases.size());
            assertEquals(100, cases.get(0).m);
            assertEquals(100, cases.get(0).n);
            assertEquals(13, cases.get(0).go());
        }
    }

    @Test
    public void go() throws Exception {
        {
            int m = 10;
            int n = 20;
            char[][] picture = new char[][]{
                    "#######-#########---".toCharArray(),
                    "##-###############--".toCharArray(),
                    "#---#######-########".toCharArray(),
                    "##-#############-###".toCharArray(),
                    "########---####---##".toCharArray(),
                    "###-###-----####-###".toCharArray(),
                    "##--####---#########".toCharArray(),
                    "###---############--".toCharArray(),
                    "######---########---".toCharArray(),
                    "##################-#".toCharArray()
            };
            CountingStars cs = new CountingStars(m, n, picture);
            int actual = cs.go();
            int expected = 9;
            assertEquals(expected, actual);
        }
        {
            int m = 10;
            int n = 20;
            char[][] picture = new char[][]{
                    "#################---".toCharArray(),
                    "##-###############--".toCharArray(),
                    "#---################".toCharArray(),
                    "##-#################".toCharArray(),
                    "########---#########".toCharArray(),
                    "#######-----########".toCharArray(),
                    "########---#########".toCharArray(),
                    "##################--".toCharArray(),
                    "#################---".toCharArray(),
                    "##################-#".toCharArray()
            };
            CountingStars cs = new CountingStars(m, n, picture);
            int actual = cs.go();
            int expected = 4;
            assertEquals(expected, actual);
        }
        {
            int m = 3;
            int n = 10;
            char[][] picture = new char[][]{
                    "#-########".toCharArray(),
                    "----------".toCharArray(),
                    "#-########".toCharArray()
            };
            CountingStars cs = new CountingStars(m, n, picture);
            int actual = cs.go();
            int expected = 1;
            assertEquals(expected, actual);
        }

    }
}